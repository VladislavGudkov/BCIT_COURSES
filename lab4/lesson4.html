<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Lesson 4</title>
        <script src = "gudkov-vladislav-lab4.js"></script>
    <style>
        img {
            position: absolute;
            top: 0;
            left: 0;
        }
    </style>
</head>
<body>
    <button id="toggle">Start/Stop</button>
    <img src="dog1.png" alt="">
    <script>
        // Timers - used to a) delay some code (i.e. run some function in the future), or b) to run some code at a specified interval repeatedly
        
        // setTimeout and setInterval

        // setTimeout(function, numberOfMsToWait) - only runs once

        // setTimeout(function() {
        //     console.log('second');
        // }, 3000);
        // note: setTimeout does not stop the rest of the script from executing, js is asynchronous (it tells the browser to count 3 seconds, when the browser notifies that the 3 seconds is up, then the javascript)

        // setTimeout(sayHello, 3000);

        // console.log('first');


        // Event Loop - https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop
        // only one thing can run at a time - and some things can block the event loop

        // let firstname = prompt('please enter your firstname'); // this blocks the event loop
        
        // now the event loop is blocked, the timer does not start until the user returns some value and the event loop is freed
        // setTimeout(function() {
        //     alert('Hello');
        // }, 3000);

        // NOTE: alert 'hello', then prompt
        
        function sayHello() {
            alert('welcome');
        }



        // setInterval(function, numberOfMsBetweenExecutions)

        // setInterval(count, 100);

        // let counter = 0;
        // function count() {
        //     console.log(counter++);
        // }

        // setInterval(animate, 10);

        // let dog = document.images[0];
        // dog.style.left = 0;

        // function animate() {
        //     let position = parseInt(dog.style.left);
        //     position++;
        //     dog.style.left = position + "px";
        // }
    </script>
    <script>
        // Problem: we need to be able to start and stop the animation
        // let animationId = setInterval(animate, 10);
        // console.log(animationId); // id is equal to 1, and we can use that to stop the animation


        let animationId = null;

        // clearTimeout(id)
        let button = document.getElementById('toggle');
        button.style.position = 'absolute';
        button.style.left = 0;
        button.style.bottom = 0;
        button.style.fontSize = '2em';

        button.onclick = move;

        // move() contains logic for starting and stopping
        function move() {
            if (animationId === null) {  // if animationId is null, it means we have not called setInterval and stored some id in animationId
                animationId = setInterval(animate, 20);
            }
            else {
                clearTimeout(animationId);
                animationId = null;
            }
        }

        let dog = document.images[0];
        dog.style.left = 0;

        // animate() contains logic for repositioning the element
        function animate() {
            let position = parseInt(dog.style.left);
            position++;
            dog.style.left = position + "px";
        }
    </script>
    <script>
        


        // Arrow Function rules

        
            /*if we have only one function parameter, we can drop the parentheses

            (res) => {
                res.json();
            }

            res => {
                res.json();
            }


            if there is a single statement inside the function, we can drop the braces

            res => {
                res.json();
            }

            res => res.json();


            arrow functions have implicit returns

            res => res.json() is equivalent to    res => return res.json()*/

        

    </script>
    <script>
        // Assignment, part 1 hint
        // your entire solution should go inside the useData function
    </script>
</body>
</html>